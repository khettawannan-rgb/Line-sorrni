// project-root/src/services/game/quiz.js
// Lightweight in-chat quiz: 5 questions per game, win if >= 4 correct
// In-memory state (sufficient for mock/POC). For production, swap to Redis/DB.

import { replyQuickMenu, replyText } from '../../services/line.js';

// ----- Question bank -------------------------------------------------------
// Format: { id, q, choices: {A,B,C,D}, answer: 'A'|'B'|'C'|'D', category }
const roads = [
  { id: 'r1',  q: '‡∏ñ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏á‡∏°‡∏∞‡∏ï‡∏≠‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏ñ‡∏ô‡∏ô‡∏´‡∏¥‡∏ô', B: '‡∏ñ‡∏ô‡∏ô‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå', C: '‡∏ñ‡∏ô‡∏ô‡∏ó‡∏£‡∏≤‡∏¢', D: '‡∏ñ‡∏ô‡∏ô‡∏•‡∏π‡∏Å‡∏£‡∏±‡∏á' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r2',  q: '‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏ñ‡∏ô‡∏ô‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏£‡∏≤‡∏°‡∏±‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ä‡∏ô‡∏¥‡∏î‡πÑ‡∏´‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏π‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå?', choices: { A: '‡∏£‡∏ñ‡∏Ç‡∏∏‡∏î', B: '‡∏£‡∏ñ‡∏ö‡∏î', C: '‡∏£‡∏ñ‡∏õ‡∏π‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå (Paver)', D: '‡∏£‡∏ñ‡∏ö‡∏£‡∏£‡∏ó‡∏∏‡∏Å‡∏ô‡πâ‡∏≥' }, answer: 'C', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r3',  q: '‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏î‡∏≠‡∏±‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏π‡∏ñ‡∏ô‡∏ô?', choices: { A: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏£‡∏µ‡∏¢‡∏ö', B: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ñ‡∏ô‡∏ô‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏∏‡∏î', C: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°', D: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏•‡∏á‡πÄ‡∏û‡∏à' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r4',  q: '‡∏ñ‡∏ô‡∏ô‡∏•‡∏∑‡πà‡∏ô‡∏ï‡∏≠‡∏ô‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô', B: '‡∏ù‡∏∏‡πà‡∏ô‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≥', C: '‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡∏•‡∏∞‡∏•‡∏≤‡∏¢', D: '‡∏£‡∏ñ‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r5',  q: '‚Äú‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å‡∏ö‡∏ô‡∏ñ‡∏ô‡∏ô‚Äù ‡∏°‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏£‡∏ñ‡∏ä‡∏ô‡∏Å‡∏±‡∏ô', B: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥', C: '‡∏ù‡∏∏‡πà‡∏ô‡∏°‡∏≤‡∏Å‡πÑ‡∏õ', D: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏Ç‡∏±‡∏ö' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r6',  q: '‡∏ä‡∏±‡πâ‡∏ô‡∏ö‡∏ô‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏ñ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: 'Subgrade', B: 'Base Course', C: 'Surface Course', D: 'Hard Layer' }, answer: 'C', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r7',  q: '‡∏¢‡∏≤‡∏á‡∏°‡∏∞‡∏ï‡∏≠‡∏¢‡∏ó‡∏≥‡∏à‡∏≤‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å?', choices: { A: '‡∏î‡∏¥‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß', B: '‡∏´‡∏¥‡∏ô‡∏õ‡∏π‡∏ô', C: '‡∏õ‡∏¥‡πÇ‡∏ï‡∏£‡πÄ‡∏•‡∏µ‡∏¢‡∏°', D: '‡∏ó‡∏£‡∏≤‡∏¢' }, answer: 'C', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r8',  q: '‡∏ñ‡πâ‡∏≤‡∏õ‡∏π‡∏ñ‡∏ô‡∏ô‡∏ï‡∏≠‡∏ô‡∏ù‡∏ô‡∏ï‡∏Å‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô?', choices: { A: '‡∏ñ‡∏ô‡∏ô‡∏à‡∏∞‡∏•‡∏∑‡πà‡∏ô', B: '‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏≤‡∏∞‡∏î‡∏µ', C: '‡∏™‡∏µ‡πÑ‡∏°‡πà‡∏™‡∏ß‡∏¢', D: '‡∏£‡∏ñ‡∏ï‡∏¥‡∏î' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r9',  q: '‚ÄúHot Mix Asphalt‚Äù ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡∏£‡πâ‡∏≠‡∏ô', B: '‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏ñ', C: '‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü', D: '‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏ô‡∏ß‡∏£‡πá‡∏≠‡∏Å' }, answer: 'A', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r10', q: '‡∏£‡∏ñ‡∏ö‡∏î‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô?', choices: { A: '‡∏Ç‡∏∏‡∏î‡∏î‡∏¥‡∏ô', B: '‡∏õ‡∏£‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô', C: '‡∏ö‡∏î‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡∏ô', D: '‡∏ï‡∏±‡∏Å‡∏´‡∏¥‡∏ô' }, answer: 'C', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r11', q: '‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏ó‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏ñ‡∏ô‡∏ô‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?', choices: { A: '‡∏£‡∏ñ‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô', B: '‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏á‡πÑ‡∏ß', C: '‡∏™‡∏ß‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô', D: '‡πÄ‡∏¢‡πá‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r12', q: '‡∏£‡∏≠‡∏¢‡∏£‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏≠‡∏£‡∏ñ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ö‡∏ô‡∏ñ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: 'Groove', B: 'Rut', C: 'Crack', D: 'Track' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r13', q: '‡∏ñ‡∏ô‡∏ô‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏£‡∏µ‡∏ï‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡πâ‡∏≠‡πÑ‡∏´‡∏ô?', choices: { A: '‡∏ñ‡∏π‡∏Å‡∏Å‡∏ß‡πà‡∏≤', B: '‡∏ã‡πà‡∏≠‡∏°‡∏ô‡πâ‡∏≠‡∏¢', C: '‡∏ô‡∏∏‡πà‡∏°‡∏Å‡∏ß‡πà‡∏≤', D: '‡∏™‡∏µ‡∏î‡∏≥‡πÄ‡∏á‡∏≤' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r14', q: '‡∏ñ‡∏ô‡∏ô‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡∏°‡∏µ‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏Ç‡∏≤‡∏ß', B: '‡∏î‡∏≥', C: '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', D: '‡πÄ‡∏ó‡∏≤' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r15', q: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: 'Mixer', B: 'Loader', C: 'Paver', D: 'Crane' }, answer: 'C', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r16', q: '‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏±‡∏î ‡∏ñ‡∏ô‡∏ô‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô?', choices: { A: '‡∏¢‡∏∑‡∏î‡∏ï‡∏±‡∏ß', B: '‡∏´‡∏î‡∏ï‡∏±‡∏ß', C: '‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô', D: '‡πÅ‡∏ï‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ' }, answer: 'C', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r17', q: '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏£‡∏ô‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ?', choices: { A: '‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏°‡∏∏‡∏°‡∏™‡∏π‡∏á', B: '‡∏ï‡∏£‡∏ß‡∏à‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô', C: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà', D: '‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠' }, answer: 'D', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r18', q: '‡πÄ‡∏™‡πâ‡∏ô‡∏ö‡∏ô‡∏ñ‡∏ô‡∏ô‡πÉ‡∏ä‡πâ‡∏™‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏≤?', choices: { A: '‡∏™‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤', B: '‡∏™‡∏µ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á', C: '‡∏™‡∏µ‡πÇ‡∏õ‡πä‡∏ß', D: '‡∏™‡∏µ‡∏ä‡∏≠‡∏•‡πå‡∏Å' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r19', q: '‡∏ñ‡∏ô‡∏ô‡∏•‡∏π‡∏Å‡∏£‡∏±‡∏á‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ñ‡∏ô‡∏ô‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?', choices: { A: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏π‡∏¢‡∏≤‡∏á‡∏°‡∏∞‡∏ï‡∏≠‡∏¢', B: '‡πÉ‡∏ä‡πâ‡∏´‡∏¥‡∏ô‡∏õ‡∏π‡∏ô', C: '‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤', D: '‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤' }, answer: 'A', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r20', q: '‡πÉ‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏ñ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏°‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏ß‡∏á?', choices: { A: '‡∏ä‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏î‡∏ú‡∏°', B: '‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÇ‡∏¢‡∏ò‡∏≤', C: '‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤', D: '‡∏Ñ‡∏ô‡∏™‡∏ß‡∏ô' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r21', q: '‡∏ñ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?', choices: { A: '‡∏£‡∏ñ‡∏ß‡∏¥‡πà‡∏á‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô', B: '‡∏£‡∏ñ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô', C: '‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏á‡∏µ‡∏¢‡∏ö', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r22', q: '‚ÄúCBR‚Äù ‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô?', choices: { A: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏ñ', B: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á‡∏î‡∏¥‡∏ô', C: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡∏Ç‡∏≠‡∏á‡∏ñ‡∏ô‡∏ô', D: '‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ù‡∏∏‡πà‡∏ô' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r23', q: '‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏ñ‡∏ô‡∏ô?', choices: { A: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°', B: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏à‡∏£‡∏≤‡∏à‡∏£', C: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á', D: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏î‡∏•‡∏≤‡∏¢' }, answer: 'B', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r24', q: '‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ñ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏£‡∏ñ‡πÅ‡∏ö‡∏Ñ‡πÇ‡∏Æ', B: '‡∏£‡∏ñ‡∏õ‡∏π‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå', C: '‡∏£‡∏ñ‡∏ö‡∏î', D: '‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠' }, answer: 'D', category: '‡∏ñ‡∏ô‡∏ô' },
  { id: 'r25', q: '‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ñ‡∏ô‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ?', choices: { A: '‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ã‡πà‡∏≠‡∏°', B: '‡∏¢‡∏∑‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ñ‡∏ô‡∏ô', C: '‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: '‡∏ñ‡∏ô‡∏ô' },
];

const nila = [
  { id: 'n1',  q: 'Nila Solutions ‡∏Ñ‡∏∑‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏ó‡∏≥‡∏Ç‡∏ô‡∏°', B: '‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡πâ‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô', C: '‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏µ‡∏™‡∏≠‡∏£‡πå‡∏ï', D: '‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå' }, answer: 'B', category: 'Nila' },
  { id: 'n2',  q: '‡∏£‡∏∞‡∏ö‡∏ö ‚ÄúHMP Report‚Äù ‡∏Ç‡∏≠‡∏á Nila ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢', B: '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÇ‡∏£‡∏á‡∏ú‡∏™‡∏°‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå', C: '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô', D: '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô' }, answer: 'B', category: 'Nila' },
  { id: 'n3',  q: '‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á Nila ‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏Ñ‡∏£?', choices: { A: '‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', B: '‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£', C: '‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£', D: '‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü' }, answer: 'B', category: 'Nila' },
  { id: 'n4',  q: '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÇ‡∏î‡∏£‡∏ô‡∏Ç‡∏≠‡∏á Nila ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á?', choices: { A: '‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ', B: '‡∏ï‡∏£‡∏ß‡∏à‡∏á‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô', C: '‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà', D: '‡∏ñ‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠' }, answer: 'D', category: 'Nila' },
  { id: 'n5',  q: 'Dashboard ‡∏Ç‡∏≠‡∏á Nila ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®', B: '‡∏ú‡∏•‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•', C: '‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡πÇ‡∏£‡∏á‡∏ú‡∏™‡∏°', D: '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£' }, answer: 'C', category: 'Nila' },
  { id: 'n6',  q: '‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚ÄúHotmix‚Äù ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö HMP ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡πÄ‡∏û‡∏•‡∏á‡∏£‡πá‡∏≠‡∏Å', B: '‡∏ñ‡∏ô‡∏ô‡∏¢‡∏≤‡∏á‡∏°‡∏∞‡∏ï‡∏≠‡∏¢‡∏£‡πâ‡∏≠‡∏ô', C: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', D: '‡∏õ‡∏π‡∏ô‡∏ã‡∏µ‡πÄ‡∏°‡∏ô‡∏ï‡πå' }, answer: 'B', category: 'Nila' },
  { id: 'n7',  q: '‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå ‚ÄúAnalytical Summary‚Äù ‡∏Ç‡∏≠‡∏á Nila ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£?', choices: { A: '‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô', B: '‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢', C: '‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: 'Nila' },
  { id: 'n8',  q: 'Nila Solutions ‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•?', choices: { A: 'AI', B: '‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå', C: '‡πÄ‡∏Å‡∏°', D: 'VR' }, answer: 'A', category: 'Nila' },
  { id: 'n9',  q: '‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô Nila ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢', B: '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏î‡∏ß‡∏Å', C: '‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: 'Nila' },
  { id: 'n10', q: '‚ÄúTipco Asphalt‚Äù ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö Nila ‡πÉ‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏î?', choices: { A: '‡∏ß‡∏±‡∏™‡∏î‡∏∏‡πÅ‡∏≠‡∏™‡∏ü‡∏±‡∏•‡∏ï‡πå', B: '‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå', C: '‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î', D: '‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á' }, answer: 'A', category: 'Nila' },
  { id: 'n11', q: 'Nila Solutions ‡∏°‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÉ‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏î?', choices: { A: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏¥‡∏á', B: '‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à', C: '‡∏Å‡∏≤‡∏£‡∏à‡∏£‡∏≤‡∏à‡∏£', D: '‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏ñ‡∏ô‡∏ô' }, answer: 'B', category: 'Nila' },
  { id: 'n12', q: '‡∏ó‡∏≥‡πÑ‡∏° Nila ‡∏ñ‡∏∂‡∏á‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢?', choices: { A: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ Gen X ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏∞‡∏î‡∏ß‡∏Å', B: '‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞', C: '‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏ó‡πà‡∏î‡∏µ', D: '‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏ä‡∏ß‡πå‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ' }, answer: 'A', category: 'Nila' },
  { id: 'n13', q: 'Nila Solutions ‡∏Å‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÉ‡∏î‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô?', choices: { A: '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°', B: '‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏á‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô', C: '‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤', D: '‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå' }, answer: 'B', category: 'Nila' },
  { id: 'n14', q: '‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Nila ‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£?', choices: { A: '‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô', B: '‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏á‡∏≤‡∏ô', C: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ô', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: 'Nila' },
  { id: 'n15', q: 'Nila Solutions ‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏±‡∏Å ‚ÄúData-driven Decision‚Äù ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', B: '‡∏Å‡∏≤‡∏£‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', C: '‡∏Å‡∏≤‡∏£‡πÇ‡∏ó‡∏£‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', D: '‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•' }, answer: 'A', category: 'Nila' },
  { id: 'n16', q: '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Dashboard ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á Nila ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô?', choices: { A: '‡∏Å‡∏≥‡πÑ‡∏£‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô', B: '‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏á‡∏≤‡∏ô‡πÇ‡∏£‡∏á‡∏ú‡∏™‡∏°', C: '‡∏™‡∏†‡∏≤‡∏û‡∏ñ‡∏ô‡∏ô‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®', D: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô' }, answer: 'B', category: 'Nila' },
  { id: 'n17', q: '‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á Nila ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?', choices: { A: 'Real-time', B: '‡πÅ‡∏ö‡∏ö‡∏à‡∏î‡∏°‡∏∑‡∏≠', C: '‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô', D: '‡∏£‡∏≤‡∏¢‡∏õ‡∏µ' }, answer: 'A', category: 'Nila' },
  { id: 'n18', q: 'Ravana ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á Nila ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô', B: '‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÇ‡∏î‡∏£‡∏ô', C: '‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å', D: '‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå‡∏ö‡∏±‡∏ç‡∏ä‡∏µ' }, answer: 'B', category: 'Nila' },
  { id: 'n19', q: 'Nila Solutions ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡πÇ‡∏£‡∏á‡∏ú‡∏™‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?', choices: { A: '‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢', B: '‡∏ó‡∏≥‡∏°‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°', C: '‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©', D: '‡∏™‡πà‡∏á‡πÅ‡∏ü‡∏Å‡∏ã‡πå' }, answer: 'A', category: 'Nila' },
  { id: 'n20', q: '‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ ‚ÄúMVP‚Äù ‡∏Ç‡∏≠‡∏á Nila ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á', B: '‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏±‡∏ö', C: '‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏ö‡∏ô‡∏±‡∏™', D: '‡πÅ‡∏≠‡∏õ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠' }, answer: 'A', category: 'Nila' },
  { id: 'n21', q: 'Dashboard ‡∏Ç‡∏≠‡∏á Nila ‡∏°‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?', choices: { A: '‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç', B: '‡πÄ‡∏û‡∏•‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û', C: '‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß', D: '‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏•‡πâ‡∏ß‡∏ô' }, answer: 'A', category: 'Nila' },
  { id: 'n22', q: '‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á‡∏Ç‡∏≠‡∏á Nila ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡∏ñ‡∏ô‡∏ô‡∏à‡∏£‡∏¥‡∏á', B: '‡∏°‡∏µ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á', C: '‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÉ‡∏´‡∏ç‡πà', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: 'Nila' },
  { id: 'n23', q: '‡∏´‡∏≤‡∏Å‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤ ‚ÄúNila Solutions‚Äù ‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏ñ‡∏ô‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞', B: '‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢', C: '‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏ó‡∏¢', D: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }, answer: 'D', category: 'Nila' },
  { id: 'n24', q: '‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á Nila Solutions ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?', choices: { A: '‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏ô‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥', B: '‡∏ó‡∏≥‡∏ñ‡∏ô‡∏ô‡πÄ‡∏≠‡∏á', C: '‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà', D: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏°' }, answer: 'A', category: 'Nila' },
  { id: 'n25', q: '‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡πà‡∏ß‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏ñ‡∏ô‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ ‡∏Ñ‡∏ß‡∏£‡∏û‡∏π‡∏î‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£?', choices: { A: 'Google', B: 'Nila Solutions', C: '‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏π‡∏ô‡∏ã‡∏µ‡πÄ‡∏°‡∏ô‡∏ï‡πå', D: '‡∏ô‡∏≤‡∏¢‡∏≠‡∏≥‡πÄ‡∏†‡∏≠' }, answer: 'B', category: 'Nila' },
];

const BANK = [...roads, ...nila];

// ----- State ---------------------------------------------------------------
const sessions = new Map(); // userId -> session

function rng(seed) {
  let t = seed >>> 0;
  return () => {
    t += 0x6d2b79f5;
    let r = Math.imul(t ^ (t >>> 15), 1 | t);
    r ^= r + Math.imul(r ^ (r >>> 7), 61 | r);
    return ((r ^ (r >>> 14)) >>> 0) / 4294967296;
  };
}

function pickRandomFive(userId) {
  const seed = Array.from(String(userId || '')).reduce((acc, ch) => acc + ch.charCodeAt(0), Date.now() % 1_000_000);
  const rand = rng(seed);
  const pool = [...BANK];
  // Fisher‚ÄìYates shuffle partial for first 5
  for (let i = 0; i < 5; i++) {
    const j = i + Math.floor(rand() * (pool.length - i));
    [pool[i], pool[j]] = [pool[j], pool[i]];
  }
  return pool.slice(0, 5);
}

function formatQuestion(q, index, total) {
  return [
    `‡∏Ç‡πâ‡∏≠ ${index + 1}/${total}`,
    q.q,
    `A. ${q.choices.A}`,
    `B. ${q.choices.B}`,
    `C. ${q.choices.C}`,
    `D. ${q.choices.D}`,
    '',
    '‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ A, B, C ‡∏´‡∏£‡∏∑‡∏≠ D',
  ].join('\n');
}

function quickABCD() {
  return [
    { label: 'A', text: 'A' },
    { label: 'B', text: 'B' },
    { label: 'C', text: 'C' },
    { label: 'D', text: 'D' },
    { label: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å', text: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏Å‡∏°' },
  ];
}

async function startGame(ev) {
  const userId = ev?.source?.userId || 'anon';
  const questions = pickRandomFive(userId);
  const session = {
    userId,
    at: Date.now(),
    qids: questions.map((q) => q.id),
    idx: 0,
    correct: 0,
  };
  sessions.set(userId, session);
  const q = questions[0];
  const text = `üéÆ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 5 ‡∏Ç‡πâ‡∏≠\n‡πÑ‡∏î‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 4 ‡∏Ç‡πâ‡∏≠\n\n${formatQuestion(q, 0, 5)}`;
  await replyQuickMenu(ev.replyToken, text, quickABCD());
  return true;
}

async function submitAnswer(ev, answerRaw) {
  const userId = ev?.source?.userId || 'anon';
  const session = sessions.get(userId);
  if (!session) {
    await replyQuickMenu(ev.replyToken, '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° ‡∏û‡∏¥‡∏°‡∏û‡πå ‚Äú‡πÄ‡∏Å‡∏°‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°', [{ label: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°', text: '‡πÄ‡∏Å‡∏°' }]);
    return true;
  }
  const answer = (String(answerRaw || '').trim().toUpperCase()[0] || '').replace(/[^ABCD]/g, '');
  if (!answer) {
    await replyQuickMenu(ev.replyToken, '‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ A, B, C ‡∏´‡∏£‡∏∑‡∏≠ D ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö', quickABCD());
    return true;
  }

  const questions = session.qids.map((id) => BANK.find((x) => x.id === id)).filter(Boolean);
  const q = questions[session.idx];
  const ok = q && q.answer === answer;
  if (ok) session.correct += 1;

  const feedback = ok ? '‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á' : `‚ùå ‡∏ú‡∏¥‡∏î‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏â‡∏•‡∏¢‡∏Ñ‡∏∑‡∏≠ ${q.answer}`;
  session.idx += 1;

  if (session.idx >= 5) {
    const win = session.correct >= 4;
    const resultText = `‡∏à‡∏ö‡πÄ‡∏Å‡∏°! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å ${session.correct}/5 ${win ? '\n\nüéÅ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡πÑ‡∏î‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Mock)' : ''}`;
    sessions.delete(userId);
    await replyQuickMenu(ev.replyToken, `${feedback}\n\n${resultText}`, [
      { label: '‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á', text: '‡πÄ‡∏Å‡∏°' },
      { label: '‡πÄ‡∏°‡∏ô‡∏π', text: '‡πÄ‡∏°‡∏ô‡∏π' },
    ]);
    return true;
  }

  const nextQ = questions[session.idx];
  const text = `${feedback}\n\n${formatQuestion(nextQ, session.idx, 5)}`;
  await replyQuickMenu(ev.replyToken, text, quickABCD());
  return true;
}

export async function handleQuizMessage(ev) {
  const raw = (ev?.message?.text || '').trim();
  const t = raw.toLowerCase();
  if (/^(‡πÄ‡∏Å‡∏°|‡πÄ‡∏Å‡∏°‡∏™‡πå|quiz|game|‡∏Ñ‡∏ß‡∏¥‡∏ã|‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°)$/.test(t)) {
    return startGame(ev);
  }
  if (/^[abcd]\b/i.test(raw) || /^‡∏ï‡∏≠‡∏ö\s*[abcd]\b/i.test(t)) {
    const m = raw.match(/[ABCD]/i);
    const a = m ? m[0].toUpperCase() : '';
    if (a) return submitAnswer(ev, a);
  }
  if (/^‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏Å‡∏°$/.test(t)) {
    const userId = ev?.source?.userId || 'anon';
    sessions.delete(userId);
    await replyQuickMenu(ev.replyToken, '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß', [{ label: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà', text: '‡πÄ‡∏Å‡∏°' }, { label: '‡πÄ‡∏°‡∏ô‡∏π', text: '‡πÄ‡∏°‡∏ô‡∏π' }]);
    return true;
  }
  return false;
}

export default { handleQuizMessage };
