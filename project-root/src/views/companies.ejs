<!-- src/views/companies.ejs -->
<section class="section-block">
  <header class="section-header">
    <div class="section-header__titles">
      <span class="section-pill">Organization</span>
      <h2>Company Profiles</h2>
      <p class="muted">การตั้งค่าเวลาส่งรายงานและข้อมูลพื้นฐานของบริษัท</p>
    </div>
    <div class="section-header__actions">
      <a class="btn primary" href="/admin/companies/new">+ New Company</a>
    </div>
  </header>

  <article class="panel card">
    <header class="panel__header">
      <div>
        <h3>รายการบริษัท</h3>
        <p class="muted">กำหนด timezone และเวลาแจ้งสรุปรายวันให้ครบถ้วน</p>
      </div>
    </header>

    <div class="table-wrap table-scroll">
      <table class="table">
      <thead>
        <tr>
          <th>ชื่อบริษัท</th>
          <th>Timezone</th>
          <th>Daily Time</th>
          <th class="col-actions">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% (companies || []).forEach(c => { %>
          <tr>
            <td><strong><%= c.name %></strong></td>
            <td><code><%= c.timezone || '-' %></code></td>
            <td><code><%= c.dailyTime || '-' %></code></td>
            <td class="table-actions col-actions">
              <a class="btn small" href="/admin/companies/<%= c._id %>/edit">Edit</a>
              <form action="/admin/companies/<%= c._id %>/delete" method="post">
                <button class="btn small danger" type="submit" data-confirm="ลบบริษัทนี้?">Delete</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
      </table>
    </div>
  </article>
</section>
